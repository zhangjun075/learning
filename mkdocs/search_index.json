{
    "docs": [
        {
            "location": "/microservice/", 
            "text": "architecture\n\n\n\n\n\n\nspring-boot\n\n\n\n\n\n\n\u7ed3\u5408maven/gradle\u6784\u5efaspring-boot\u9879\u76ee\n\n\n\u6784\u5efa\u7684\u65f6\u5019\u52a0\u5165spring-boot\u7684pom\u652f\u6301\n\n\n\n\n    \n!-- Inherit defaults from Spring Boot --\n\n    \nparent\n\n        \ngroupId\norg.springframework.boot\n/groupId\n\n        \nartifactId\nspring-boot-starter-parent\n/artifactId\n\n        \nversion\n2.0.0.BUILD-SNAPSHOT\n/version\n\n    \n/parent\n\n\n    \n!-- Add typical dependencies for a web application --\n\n    \ndependencies\n\n        \ndependency\n\n            \ngroupId\norg.springframework.boot\n/groupId\n\n            \nartifactId\nspring-boot-starter-web\n/artifactId\n\n        \n/dependency\n\n    \n/dependencies\n\n\n    \n!-- Package as an executable jar --\n\n    \nbuild\n\n        \nplugins\n\n            \nplugin\n\n                \ngroupId\norg.springframework.boot\n/groupId\n\n                \nartifactId\nspring-boot-maven-plugin\n/artifactId\n\n            \n/plugin\n\n        \n/plugins\n\n    \n/build\n\n\n\n\n\n\n\n\u9879\u76ee\u76ee\u5f55\u7ed3\u6784\n\n\n\n\n\n\n\n\n\u5b8c\u5584\u9879\u76ee\u4fe1\u606f\n\n\n\u5728main\u76ee\u5f55\u4e0b\u65b0\u5efaresources\u76ee\u5f55\n\n\n\u589e\u52a0application.properties\u6587\u4ef6\n\n\n\u5728application.properties\u4e2d\u589e\u52a0\u5982\u4e0b\u5185\u5bb9\n\n\n\n\n\n\n\n\nspring.application.name=test\nserver.port=9009\n\nlogging.path=./data/logs/\nlogging.level.root=debug\n\n\n\n\n\n\n\u589e\u52a0spring-boot\u7684\u542f\u52a8\u652f\u6301\n\n\n\n\n@SpringBootApplication\npublic class App {\n    public static void main( String[] args ) {\n        SpringApplication.run(App.class,args);\n    }\n}\n\n\n\n\n\n\n\u521b\u5efarestful\u63a5\u53e3\n\n\n\n\n@RestController\n@Slf4j\npublic class Demo {\n\n    @GetMapping(value = \n/demo\n)\n    public String demo(){\n        log.info(\ndemo\n);\n        return \ndemo\n;\n    }\n\n}     \n\n\n\n\n\n\n\u4e2d\u95f4\u9700\u8981\u52a0\u5165slf4j\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u542f\u52a8springboot\u7684\u5e94\u7528\uff0c\u901a\u8fc7postman\u5373\u53ef\u8bbf\u95ee\n\n\n\n\n\nspring-cloud\n\n\n\n\n\u9879\u76ee\u52a0\u5165springcloud\u7684\u652f\u6301(\u7ed3\u5408consul)\n\n\n\n\ndependency\n\n      \ngroupId\norg.springframework.cloud\n/groupId\n\n      \nartifactId\nspring-cloud-starter\n/artifactId\n\n      \nversion\n1.1.7.RELEASE\n/version\n\n    \n/dependency\n\n\n    \ndependency\n\n      \ngroupId\norg.springframework.cloud\n/groupId\n\n      \nartifactId\nspring-cloud-dependencies\n/artifactId\n\n      \nversion\nCamden.SR5\n/version\n\n    \n/dependency\n\n\n    \ndependency\n\n      \ngroupId\norg.springframework.cloud\n/groupId\n\n      \nartifactId\nspring-cloud-starter-consul-discovery\n/artifactId\n\n      \nversion\n1.1.2.RELEASE\n/version\n\n    \n/dependency\n\n\n\n\n\n\n\n\u542f\u52a8\u589e\u52a0\u670d\u52a1\u6ce8\u518c\u548c\u53d1\u73b0\u7684\u6ce8\u89e3\n\n\n\n\n@SpringBootApplication\n@EnableDiscoveryClient\npublic class App {\n    public static void main( String[] args ) {\n        SpringApplication.run(App.class,args);\n    }\n}\n\n\n\n\n\n\nspringcloud\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u662f\u6574\u4e2abootapplication\u7684\u7236\u73af\u5883\n\n\n\n\nA Spring Cloud application operates by creating a \nbootstrap\n context, which is a parent context for the main application. Out of the box it is responsible for loading configuration properties from the external sources, and also decrypting properties in the local external configuration files. The two contexts share an Environment which is the source of external properties for any Spring application. Bootstrap properties are added with high precedence, so they cannot be overridden by local configuration, by default.\nThe bootstrap context uses a different convention for locating external configuration than the main application context, so instead of application.yml (or .properties) you use bootstrap.yml, keeping the external configuration for bootstrap and main context nicely separate\n\n\n\n\n\n\n\u589e\u52a0bootstrap.properties\u914d\u7f6e\u6587\u4ef6\n\n\n\n\nspring.application.name=test\nserver.port=9009\n\n\n\n\n\n\n\u5728application.properties\u4e2d\u589e\u52a0consul\u6ce8\u518c\u4e2d\u5fc3\n\n\n\n\nspring.cloud.consul.host=localhost\nspring.cloud.consul.port=8500\nspring.cloud.consul.enabled=true\nspring.cloud.consul.discovery.prefer-ip-address=true\nspring.cloud.consul.discovery.instance-id=${spring.application.name}:${spring.cloud.client.ipAddress}:${server.port}\n\n\n\n\n\n\n\u542f\u52a8\u5e94\u7528\uff0c\u767b\u9646consul\u63a7\u5236\u53f0\uff0c\u53d1\u73b0consul\u7684\u670d\u52a1critical\n\n\n\n\n\n\n\n\n\u90a3\u662f\u56e0\u4e3a\u6ca1\u6709\u542f\u52a8springboot\u7684\n\n\n\n\n    \ndependency\n\n      \ngroupId\norg.springframework.boot\n/groupId\n\n      \nartifactId\nspring-boot-starter-actuator\n/artifactId\n\n      \nversion\n1.4.4.RELEASE\n/version\n\n    \n/dependency\n\n\n\n\n\n\n\n\n\n\u91cd\u65b0\u542f\u52a8\u670d\u52a1\u540e\u6b63\u5e38\n\n\n\n\n\n\n\n\u8bf4\u660e\uff1a\u5e38\u89c4\u670d\u52a1\u6ce8\u518c\u662f\u901a\u8fc7client\u6ce8\u518c\u5230server\u4e0a\u3002\u672c\u793a\u4f8b\u76f4\u63a5\u6ce8\u518c\u5230server\u3002\u4e0d\u7b26\u5408consul\u7684\u67b6\u6784\u539f\u5219\u3002\n\n\n\n\n\n\nconfig\n\n\n\n\nSpring Cloud Config provides server and client-side support for externalized configuration in a distributed system.\n\n\n\n\nconfigServer\n\n\n\n\n\n\nconfigServer\u662f\u4e00\u4e2aspringboot\u9879\u76ee\u3002\u90e8\u7f72\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\n\n\n\n\n\u96c6\u7fa4\u7684\u65b9\u5f0f\u90e8\u7f72\uff0c\u524d\u7aef\u52a0nginx\u3002\n\n\n\u670d\u52a1\u6ce8\u518c\u7684\u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\uff0c\u6ce8\u518c\u5230consul\u3002configClient\u901a\u8fc7\u670d\u52a1\u53d1\u73b0\u7684\u65b9\u5f0f\u8c03\u7528\u3002\n\n\n\n\n\n\n\n\n\u4ee3\u7801\u7684\u6258\u7ba1\u53ef\u4ee5\u91c7\u7528git\u6216\u8005svn\u7684\u65b9\u5f0f\n\n\n\n\n\n\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/spring-cloud-samples/config-repo\n          username: trolley\n          password: strongpassword\n\n\n\n\n\n\nbootstrap\u542f\u52a8\u7684\u65f6\u5019\u5982\u4e0b\n\n\n\n\n@SpringBootApplication\n@EnableConfigServer\npublic class ConfigServer {\n  public static void main(String[] args) {\n    SpringApplication.run(ConfigServer.class, args);\n  }\n}\n\n\n\n\n\n\n\n\n\u5982\u679c\u91c7\u7528\u670d\u52a1\u6ce8\u518c\u7684\u65b9\u5f0f\uff0c\u90a3\u4e48\u9700\u8981\u5f15\u5165consul\u6216\u8005eureka\u7ec4\u4ef6\u3002\n\n\n\n\n\n\n Force pull in Git Repositories \n\n\n\n\n\u8bf7\u53c2\u7167http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html\n\n\n\n\n\n\n\n\nAs mentioned before Spring Cloud Config Server makes a clone of the remote git repository and if somehow the local copy gets dirty (e.g. folder content changes by OS process) so Spring Cloud Config Server cannot update the local copy from remote repository.\nTo solve this there is a force-pull property that will make Spring Cloud Config Server force pull from remote repository if the local copy is dirty. Example:\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/spring-cloud-samples/config-repo\n          force-pull: true\n\n\n\n\nconfigClient\n\n\n\n\n\u8bf7\u53c2\u7167http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html#_spring_cloud_config_client\n\n\n Config First Bootstrap \n \u5f85\u7eed\u3002\u3002\u3002\u3002\n\n\n Discovery First Bootstrap \n \u5f85\u7eed\u3002\u3002\u3002\u3002\n\n\n Config Client Fail Fast \n\u3002\u5f85\u7eed\u3002\u3002\u3002\u3002\n\n\n\n\n Config Client Retry \n   \u5f85\u7eed\u3002\u3002\u3002\u3002\n\n\n\n\n\n\n\u5206\u5e03\u5f0f\u5237\u65b0\uff1a\u91c7\u7528cloud-bus\u7684\u5f62\u5f0f;cloud-bus\u53ef\u4ee5\u7528\u6d88\u606f\u961f\u5217\u6765\u5b9e\u73b0\u3002\n\n\n\n\n\u5728\u5ba2\u6237\u7aef\u9700\u8981\u5f00\u542f@Refreshscope\u6ce8\u89e3\u3002\n\n\n\n\n\n\n\u5728bootstrap.properties\u6587\u4ef6\u4e2d\u589e\u52a0\u6ce8\u89e3\n\n\n\n\n#config\nspring.cloud.config.enabled=false\nspring.cloud.config.discovery.enabled=${spring.cloud.config.enabled}\nspring.cloud.config.discovery.service-id=ppdai-config-server\nspring.cloud.config.fail-fast=true\n\n\n\n\nfeign\n\n\nFeign is a declarative web service client. It makes writing web service clients easier. To use Feign create an interface and annotate it. It has pluggable annotation support including Feign annotations and JAX-RS annotations. Feign also supports pluggable encoders and decoders. Spring Cloud adds support for Spring MVC annotations and for using the same HttpMessageConverters used by default in Spring Web. Spring Cloud integrates Ribbon and Eureka to provide a load balanced http client when using Feign.\n\n\n\n\n\n\nfeign\u662f\u4e00\u4e2a\u58f0\u660e\u5f0f\u7684\u5ba2\u6237\u7aef\uff0cspringcloud\u7684feign-client\u5305\u542b\u4e86ribbon\u548chystrix\u7684\u652f\u6301\n\n\n\u5f15\u5165feign\n\n\n\n\n    \ndependency\n\n      \ngroupId\norg.springframework.cloud\n/groupId\n\n      \nartifactId\nspring-cloud-starter-feign\n/artifactId\n\n      \nversion\n1.2.3.RELEASE\n/version\n\n    \n/dependency\n\n\n\n\n\n\n\n\u9879\u76ee\u542f\u52a8\u589e\u52a0feignclient\u7684\u652f\u6301\n\n\n\n\n@SpringBootApplication\n@EnableDiscoveryClient\n@EnableFeignClients\npublic class App {\n    public static void main( String[] args ) {\n        SpringApplication.run(App.class,args);\n    }\n}\n\n\n\n\n\n\n\u589e\u52a0client\u7684\u76ee\u5f55\uff0c\u521b\u5efaconsumer\u7684interface\n\n\n\n\n@FeignClient(value = \nxzxxxx\n)\npublic interface Demoa {\n\n    @GetMapping(value = \n/demo\n)\n    public String demo();\n\n}\n## value:\u6240\u8981\u8c03\u7528\u7684\u670d\u52a1\u7684\u540d\u5b57\u3002\n\n\n\n\n\n\n\n\n\u9879\u76ee\u542f\u52a8\u7684\u65f6\u5019\u4f1a,context\u4f1a\u5b9e\u4f8b\u5316Demoa(singleton-\nFeignClientFactoryBean)\n\n\n\n\n\n\n\n\n\nfeign\u5b58\u5728\u91cd\u8bd5:\u8fde\u63a5\u8d85\u65f6\u9ed8\u8ba4\u662f10s\uff0c\u8bfb\u53d6\u8d85\u65f6\u9ed8\u8ba4\u662f60s\uff0c\u5982\u679c\u8bfb\u53d6\u8d85\u65f6\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f1a\u8fdb\u884c\u91cd\u8bd5\uff0c\u5e76\u8c03\u7528ribbo\u7ec4\u4ef6\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\uff0c\u5e76\u53d1\u9001\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u5728\u9879\u76ee\u4e2d\u6ce8\u610f\uff0c\u9700\u8981\u5173\u95ed\u5e95\u5c42\u7684httpclient\u6216\u8005okhttpclient\u7684\u91cd\u8bd5\uff0c\u9632\u6b62\u5728\u901a\u8baf\u5c42\u51fa\u73b0\u91cd\u53d1\u3002\u5728\u670d\u52a1\u7aef\u4e5f\u8981\u505a\u597d\u5e42\u7b49\u3002\n\n\n\n\n\n\n\n\u5728controller\u4e2d\u53ef\u4ee5\u76f4\u63a5\u6ce8\u5165Demoa\u5b9e\u4f8b\n\n\n\n\n\n\n@RestController\n@Slf4j\npublic class Demo {\n\n    @Autowired\n    Demoa demoa;\n\n    @GetMapping(value = \n/demo\n)\n    public String demo(){\n        log.info(\ndemo\n);\n        return \ndemo\n;\n    }\n\n}\n\n\n\n\nribbon\n\n\nRibbon is a client side load balancer which gives you a lot of control over the behaviour of HTTP and TCP clients. Feign already uses Ribbon, so if you are using @FeignClient then this section also applies.\n\n\n\n\n\u6e90\u7801\u89e3\u6790\u67e5\u770bhttp://www.tuicool.com/articles/7VJzq2U\n\n\n\u6e90\u7801\u89e3\u6790\u67e5\u770bhttp://www.tuicool.com/articles/vANVFnM\n\n\n\n\n\nhystrix\n\n\nzuul\n\n\neureka\n\n\nconsul\n\n\n\n\nconsul\u53c2\u8003\u5b98\u7f51http://consul.io\n\n\nconsul\u67b6\u6784\u56fe\n\n\n\n\n\n(LAN:\u5c40\u57df\u7f51 ;WAN:\u5e7f\u57df\u7f51)\nclient\u4e0eclient\u4e4b\u95f4\u8d70gossip\u534f\u8bae\uff0c\u534f\u8bae\u7aef\u53e3\u662f8301\nclient\u4e0eserver\u4e4b\u95f4\u6570\u636e\u540c\u6b65\u4e5f\u662f\u8d70gossip\u534f\u8bae\uff0c\u7aef\u53e3\u662f8301\nclient\u4e0eserver\u7684rpc\u8d70tcp\u534f\u8bae\uff0c\u8d70\u7684\u662f8300\u7aef\u53e3\nserver\u4e0eserver\u4e4b\u95f4\u7684\u590d\u5236raft\u534f\u8bae\u8d70\u7684\u662ftcp\u534f\u8bae\uff0c\u7aef\u53e3\u662f8300\n\u4e0d\u540c\u7684dc\u4e4b\u95f4\u7684\u6570\u636e\u8bf7\u6c42\u8d70\u7684\u662f8300\u7aef\u53e3\n\u4e0d\u540c\u7684dc\u7684server\u4e4b\u95f4\u8d70\u7684gossip\u534f\u8bae\uff0c\u7aef\u53e3\u5e7f\u57df\u7f51\u76848302\u7aef\u53e3\n\n\n\n\n\n\ngossip\u534f\u8bae\n\n\n\n\n1. gossip\u80cc\u666f\nGossip\u7b97\u6cd5\u5982\u5176\u540d\uff0c\u7075\u611f\u6765\u81ea\u529e\u516c\u5ba4\u516b\u5366\uff0c\u53ea\u8981\u4e00\u4e2a\u4eba\u516b\u5366\u4e00\u4e0b\uff0c\u5728\u6709\u9650\u7684\u65f6\u95f4\u5185\u6240\u6709\u7684\u4eba\u90fd\u4f1a\u77e5\u9053\u8be5\u516b\u5366\u7684\u4fe1\u606f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u4e0e\u75c5\u6bd2\u4f20\u64ad\u7c7b\u4f3c\uff0c\u56e0\u6b64Gossip\u6709\u4f17\u591a\u7684\u522b\u540d\u201c\u95f2\u8bdd\u7b97\u6cd5\u201d\u3001\u201c\u75ab\u60c5\u4f20\u64ad\u7b97\u6cd5\u201d\u3001\u201c\u75c5\u6bd2\u611f\u67d3\u7b97\u6cd5\u201d\u3001\u201c\u8c23\u8a00\u4f20\u64ad\u7b97\u6cd5\u201d\u3002  \u4f46Gossip\u5e76\u4e0d\u662f\u4e00\u4e2a\u65b0\u4e1c\u897f\uff0c\u4e4b\u524d\u7684\u6cdb\u6d2a\u67e5\u627e\u3001\u8def\u7531\u7b97\u6cd5\u90fd\u5f52\u5c5e\u4e8e\u8fd9\u4e2a\u8303\u7574\uff0c\u4e0d\u540c\u7684\u662fGossip\u7ed9\u8fd9\u7c7b\u7b97\u6cd5\u63d0\u4f9b\u4e86\u660e\u786e\u7684\u8bed\u4e49\u3001\u5177\u4f53\u5b9e\u65bd\u65b9\u6cd5\u53ca\u6536\u655b\u6027\u8bc1\u660e\u3002\n2. gossip\u7279\u70b9\nGossip\u7b97\u6cd5\u53c8\u88ab\u79f0\u4e3a\u53cd\u71b5\uff08Anti-Entropy\uff09\uff0c\u71b5\u662f\u7269\u7406\u5b66\u4e0a\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u4ee3\u8868\u6742\u4e71\u65e0\u7ae0\uff0c\u800c\u53cd\u71b5\u5c31\u662f\u5728\u6742\u4e71\u65e0\u7ae0\u4e2d\u5bfb\u6c42\u4e00\u81f4\uff0c\u8fd9\u5145\u5206\u8bf4\u660e\u4e86Gossip\u7684\u7279\u70b9\uff1a\u5728\u4e00\u4e2a\u6709\u754c\u7f51\u7edc\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u968f\u673a\u5730\u4e0e\u5176\u4ed6\u8282\u70b9\u901a\u4fe1\uff0c\u7ecf\u8fc7\u4e00\u756a\u6742\u4e71\u65e0\u7ae0\u7684\u901a\u4fe1\uff0c\u6700\u7ec8\u6240\u6709\u8282\u70b9\u7684\u72b6\u6001\u90fd\u4f1a\u8fbe\u6210\u4e00\u81f4\u3002\u6bcf\u4e2a\u8282\u70b9\u53ef\u80fd\u77e5\u9053\u6240\u6709\u5176\u4ed6\u8282\u70b9\uff0c\u4e5f\u53ef\u80fd\u4ec5\u77e5\u9053\u51e0\u4e2a\u90bb\u5c45\u8282\u70b9\uff0c\u53ea\u8981\u8fd9\u4e9b\u8282\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8fde\u901a\uff0c\u6700\u7ec8\u4ed6\u4eec\u7684\u72b6\u6001\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u5f53\u7136\u8fd9\u4e5f\u662f\u75ab\u60c5\u4f20\u64ad\u7684\u7279\u70b9\u3002  \u8981\u6ce8\u610f\u5230\u7684\u4e00\u70b9\u662f\uff0c\u5373\u4f7f\u6709\u7684\u8282\u70b9\u56e0\u5b95\u673a\u800c\u91cd\u542f\uff0c\u6709\u65b0\u8282\u70b9\u52a0\u5165\uff0c\u4f46\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u8fd9\u4e9b\u8282\u70b9\u7684\u72b6\u6001\u4e5f\u4f1a\u4e0e\u5176\u4ed6\u8282\u70b9\u8fbe\u6210\u4e00\u81f4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cGossip\u5929\u7136\u5177\u6709\u5206\u5e03\u5f0f\u5bb9\u9519\u7684\u4f18\u70b9\n3. gossip\u672c\u8d28\nGossip\u662f\u4e00\u4e2a\u5e26\u5197\u4f59\u7684\u5bb9\u9519\u7b97\u6cd5\uff0c\u66f4\u8fdb\u4e00\u6b65\uff0cGossip\u662f\u4e00\u4e2a\u6700\u7ec8\u4e00\u81f4\u6027\u7b97\u6cd5\u3002\u867d\u7136\u65e0\u6cd5\u4fdd\u8bc1\u5728\u67d0\u4e2a\u65f6\u523b\u6240\u6709\u8282\u70b9\u72b6\u6001\u4e00\u81f4\uff0c\u4f46\u53ef\u4ee5\u4fdd\u8bc1\u5728\u201d\u6700\u7ec8\u201c\u6240\u6709\u8282\u70b9\u4e00\u81f4\uff0c\u201d\u6700\u7ec8\u201c\u662f\u4e00\u4e2a\u73b0\u5b9e\u4e2d\u5b58\u5728\uff0c\u4f46\u7406\u8bba\u4e0a\u65e0\u6cd5\u8bc1\u660e\u7684\u65f6\u95f4\u70b9\u3002\n\u56e0\u4e3aGossip\u4e0d\u8981\u6c42\u8282\u70b9\u77e5\u9053\u6240\u6709\u5176\u4ed6\u8282\u70b9\uff0c\u56e0\u6b64\u53c8\u5177\u6709\u53bb\u4e2d\u5fc3\u5316\u7684\u7279\u70b9\uff0c\u8282\u70b9\u4e4b\u95f4\u5b8c\u5168\u5bf9\u7b49\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u7684\u4e2d\u5fc3\u8282\u70b9\u3002\u5b9e\u9645\u4e0aGossip\u53ef\u4ee5\u7528\u4e8e\u4f17\u591a\u80fd\u63a5\u53d7\u201c\u6700\u7ec8\u4e00\u81f4\u6027\u201d\u7684\u9886\u57df\uff1a\u5931\u8d25\u68c0\u6d4b\u3001\u8def\u7531\u540c\u6b65\u3001Pub/Sub\u3001\u52a8\u6001\u8d1f\u8f7d\u5747\u8861\u3002  \u4f46Gossip\u7684\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c\u5197\u4f59\u901a\u4fe1\u4f1a\u5bf9\u7f51\u8def\u5e26\u5bbd\u3001CUP\u8d44\u6e90\u9020\u6210\u5f88\u5927\u7684\u8d1f\u8f7d\uff0c\u800c\u8fd9\u4e9b\u8d1f\u8f7d\u53c8\u53d7\u9650\u4e8e\u901a\u4fe1\u9891\u7387\uff0c\u8be5\u9891\u7387\u53c8\u5f71\u54cd\u7740\u7b97\u6cd5\u6536\u655b\u7684\u901f\u5ea6\uff0c\u540e\u9762\u6211\u4eec\u4f1a\u8bb2\u5728\u5404\u79cd\u573a\u5408\u4e0b\u7684\u4f18\u5316\u65b9\u6cd5\u3002\n4. Gossip\u8282\u70b9\u7684\u901a\u4fe1\u65b9\u5f0f\u53ca\u6536\u655b\u6027 \n\u53c2\u7167\uff1ahttp://wenku.baidu.com/link?url=SSCHAAXypcJvYrDkZL4RRUSMgxeQl9nb1EOaLBsk21PyB1Z9GfXsQ2jkVTDElRJwqUn2QFxV6ut-5Dz1Dki8Rt34BOSAEoXH-YQ-1ZTm46O\n\n\n\n\n\n\n\n\nconsul\u7684\u90e8\u7f72\n\n\n\n\n\u6839\u636e\u4e0d\u540c\u7684\u7684\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\uff0c\u4e0b\u8f7d\u6700\u65b0consul\u5ba2\u6237\u7aef,\u6700\u65b0\u7684\u7248\u672c\u96c6\u6210\u4e86web-ui,\u53ea\u8981\u5728\u90e8\u7f72\u7684\u5f00\u542fui\u5373\u53ef\u3002\n\n\n\n\n\u2018\u5355\u673a\u90e8\u7f72\u2019\n\n\n\n\n\u4e0b\u8f7dconsul\u5b89\u88c5\u6587\u4ef6\u3002\n\n\n\u51c6\u5907\u542f\u52a8\u811a\u672c\n\n\n\n\nconsul agent -server -bootstrap -datacenter=zjtest1 -data-dir=./temp/consul/server -ui=true\n\n\n\n\n\u542f\u52a8\u811a\u672c\u8bf4\u660e\n\n\nserver:  This indicates whether the agent is running in server or client mode\n\n\nbootstrap:   a server may be in \"bootstrap\" mode \n\n\ndatacenter:  The -datacenter flag can be used to set the datacenter\n\n\n\n\n\n\n\u542f\u52a8\u65e5\u5fd7\n\n\n\n\n2017/03/23 15:55:40 [WARN] raft: Heartbeat timeout from \"\" reached, starting Election\n    2017/03/23 15:55:40 [INFO] raft: Node at 192.168.50.150:8300 [Candidate] entering Candidate state in term 2\n    2017/03/23 15:55:40 [INFO] raft: Election won. Tally: 1\n    2017/03/23 15:55:40 [INFO] raft: Node at 192.168.50.150:8300 [Leader] entering Leader state\n    2017/03/23 15:55:40 [INFO] consul: cluster leadership acquired\n    2017/03/23 15:55:40 [INFO] consul: New leader elected: JundeMacBook-Pro.local\n    2017/03/23 15:55:40 [INFO] consul: member 'JundeMacBook-Pro.local' joined, marking health alive\n    2017/03/23 15:55:42 [INFO] agent: Synced service 'consul'\n\n\n\n\n\u90e8\u7f72\u5b8c\u6210\u540e\u53ef\u4ee5\u67e5\u770b\n\n\n\n\n$ consul members\nNode                    Address              Status  Type    Build  Protocol  DC\nJundeMacBook-Pro.local  192.168.50.150:8301  alive   server  0.7.2  2         zjtest2\n\n\n\n\n\n\n\u96c6\u7fa4\u90e8\u7f72\n\n\n\n\nserver\u5efa\u8bae\u81f3\u5c11\u4e09\u4e2a\u70b9\u90e8\u7f72\u3002\n\n\n\u6240\u6709\u7684server\u4e0d\u80fd\u4ee5bootstrap\u7684\u65b9\u5f0f\u8fd0\u884c\uff0c\u5426\u5219\u4f1a\u4ea7\u751f\u72b6\u6001\u7684\u4e0d\u4e00\u81f4\uff0c\u5982\u4e0b\u5f15\u7528\u539f\u6587\u8bf4\u660e\n\n\n\n\nMultiple servers cannot be in bootstrap mode as that would put the cluster in an inconsistent state.\n\n\n\n\n\n\n\u90e8\u7f72\u6b65\u9aa4\n\n\n\n\n\u4ee5bootstrap\u65b9\u5f0f\u90e8\u7f72\u4e00\u53f0server    \n\n\n\u5176\u4ed6server\u4ee5join\u7684\u65b9\u5f0f\u52a0\u5165\n\n\n\u4f18\u96c5\u4e0b\u7ebf\u8be5bootstrap\u7684server\n\n\n\u52a0\u5165\u5230\u5269\u4f59\u4e2d\u7684\u4efb\u610f\u4e00\u53f0\n\n\n\n\n\n\n\n\n\u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7consul members\u8fdb\u884c\u67e5\u770b\u96c6\u7fa4\u72b6\u6001", 
            "title": "\u5fae\u670d\u52a1"
        }, 
        {
            "location": "/microservice/#architecture", 
            "text": "", 
            "title": "architecture"
        }, 
        {
            "location": "/microservice/#spring-boot", 
            "text": "\u7ed3\u5408maven/gradle\u6784\u5efaspring-boot\u9879\u76ee  \u6784\u5efa\u7684\u65f6\u5019\u52a0\u5165spring-boot\u7684pom\u652f\u6301        !-- Inherit defaults from Spring Boot -- \n     parent \n         groupId org.springframework.boot /groupId \n         artifactId spring-boot-starter-parent /artifactId \n         version 2.0.0.BUILD-SNAPSHOT /version \n     /parent \n\n     !-- Add typical dependencies for a web application -- \n     dependencies \n         dependency \n             groupId org.springframework.boot /groupId \n             artifactId spring-boot-starter-web /artifactId \n         /dependency \n     /dependencies \n\n     !-- Package as an executable jar -- \n     build \n         plugins \n             plugin \n                 groupId org.springframework.boot /groupId \n                 artifactId spring-boot-maven-plugin /artifactId \n             /plugin \n         /plugins \n     /build    \u9879\u76ee\u76ee\u5f55\u7ed3\u6784     \u5b8c\u5584\u9879\u76ee\u4fe1\u606f  \u5728main\u76ee\u5f55\u4e0b\u65b0\u5efaresources\u76ee\u5f55  \u589e\u52a0application.properties\u6587\u4ef6  \u5728application.properties\u4e2d\u589e\u52a0\u5982\u4e0b\u5185\u5bb9     spring.application.name=test\nserver.port=9009\n\nlogging.path=./data/logs/\nlogging.level.root=debug   \u589e\u52a0spring-boot\u7684\u542f\u52a8\u652f\u6301   @SpringBootApplication\npublic class App {\n    public static void main( String[] args ) {\n        SpringApplication.run(App.class,args);\n    }\n}   \u521b\u5efarestful\u63a5\u53e3   @RestController\n@Slf4j\npublic class Demo {\n\n    @GetMapping(value =  /demo )\n    public String demo(){\n        log.info( demo );\n        return  demo ;\n    }\n\n}        \u4e2d\u95f4\u9700\u8981\u52a0\u5165slf4j\u7684\u914d\u7f6e\u6587\u4ef6\u3002\u542f\u52a8springboot\u7684\u5e94\u7528\uff0c\u901a\u8fc7postman\u5373\u53ef\u8bbf\u95ee", 
            "title": "spring-boot"
        }, 
        {
            "location": "/microservice/#spring-cloud", 
            "text": "\u9879\u76ee\u52a0\u5165springcloud\u7684\u652f\u6301(\u7ed3\u5408consul)   dependency \n       groupId org.springframework.cloud /groupId \n       artifactId spring-cloud-starter /artifactId \n       version 1.1.7.RELEASE /version \n     /dependency \n\n     dependency \n       groupId org.springframework.cloud /groupId \n       artifactId spring-cloud-dependencies /artifactId \n       version Camden.SR5 /version \n     /dependency \n\n     dependency \n       groupId org.springframework.cloud /groupId \n       artifactId spring-cloud-starter-consul-discovery /artifactId \n       version 1.1.2.RELEASE /version \n     /dependency    \u542f\u52a8\u589e\u52a0\u670d\u52a1\u6ce8\u518c\u548c\u53d1\u73b0\u7684\u6ce8\u89e3   @SpringBootApplication\n@EnableDiscoveryClient\npublic class App {\n    public static void main( String[] args ) {\n        SpringApplication.run(App.class,args);\n    }\n}   springcloud\u7684\u4e0a\u4e0b\u6587\u73af\u5883\u662f\u6574\u4e2abootapplication\u7684\u7236\u73af\u5883   A Spring Cloud application operates by creating a  bootstrap  context, which is a parent context for the main application. Out of the box it is responsible for loading configuration properties from the external sources, and also decrypting properties in the local external configuration files. The two contexts share an Environment which is the source of external properties for any Spring application. Bootstrap properties are added with high precedence, so they cannot be overridden by local configuration, by default.\nThe bootstrap context uses a different convention for locating external configuration than the main application context, so instead of application.yml (or .properties) you use bootstrap.yml, keeping the external configuration for bootstrap and main context nicely separate   \u589e\u52a0bootstrap.properties\u914d\u7f6e\u6587\u4ef6   spring.application.name=test\nserver.port=9009   \u5728application.properties\u4e2d\u589e\u52a0consul\u6ce8\u518c\u4e2d\u5fc3   spring.cloud.consul.host=localhost\nspring.cloud.consul.port=8500\nspring.cloud.consul.enabled=true\nspring.cloud.consul.discovery.prefer-ip-address=true\nspring.cloud.consul.discovery.instance-id=${spring.application.name}:${spring.cloud.client.ipAddress}:${server.port}   \u542f\u52a8\u5e94\u7528\uff0c\u767b\u9646consul\u63a7\u5236\u53f0\uff0c\u53d1\u73b0consul\u7684\u670d\u52a1critical     \u90a3\u662f\u56e0\u4e3a\u6ca1\u6709\u542f\u52a8springboot\u7684        dependency \n       groupId org.springframework.boot /groupId \n       artifactId spring-boot-starter-actuator /artifactId \n       version 1.4.4.RELEASE /version \n     /dependency     \u91cd\u65b0\u542f\u52a8\u670d\u52a1\u540e\u6b63\u5e38    \u8bf4\u660e\uff1a\u5e38\u89c4\u670d\u52a1\u6ce8\u518c\u662f\u901a\u8fc7client\u6ce8\u518c\u5230server\u4e0a\u3002\u672c\u793a\u4f8b\u76f4\u63a5\u6ce8\u518c\u5230server\u3002\u4e0d\u7b26\u5408consul\u7684\u67b6\u6784\u539f\u5219\u3002", 
            "title": "spring-cloud"
        }, 
        {
            "location": "/microservice/#config", 
            "text": "Spring Cloud Config provides server and client-side support for externalized configuration in a distributed system.", 
            "title": "config"
        }, 
        {
            "location": "/microservice/#configserver", 
            "text": "configServer\u662f\u4e00\u4e2aspringboot\u9879\u76ee\u3002\u90e8\u7f72\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a   \u96c6\u7fa4\u7684\u65b9\u5f0f\u90e8\u7f72\uff0c\u524d\u7aef\u52a0nginx\u3002  \u670d\u52a1\u6ce8\u518c\u7684\u65b9\u5f0f\u8fdb\u884c\u90e8\u7f72\uff0c\u6ce8\u518c\u5230consul\u3002configClient\u901a\u8fc7\u670d\u52a1\u53d1\u73b0\u7684\u65b9\u5f0f\u8c03\u7528\u3002     \u4ee3\u7801\u7684\u6258\u7ba1\u53ef\u4ee5\u91c7\u7528git\u6216\u8005svn\u7684\u65b9\u5f0f    spring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/spring-cloud-samples/config-repo\n          username: trolley\n          password: strongpassword   bootstrap\u542f\u52a8\u7684\u65f6\u5019\u5982\u4e0b   @SpringBootApplication\n@EnableConfigServer\npublic class ConfigServer {\n  public static void main(String[] args) {\n    SpringApplication.run(ConfigServer.class, args);\n  }\n}    \u5982\u679c\u91c7\u7528\u670d\u52a1\u6ce8\u518c\u7684\u65b9\u5f0f\uff0c\u90a3\u4e48\u9700\u8981\u5f15\u5165consul\u6216\u8005eureka\u7ec4\u4ef6\u3002     Force pull in Git Repositories    \u8bf7\u53c2\u7167http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html     As mentioned before Spring Cloud Config Server makes a clone of the remote git repository and if somehow the local copy gets dirty (e.g. folder content changes by OS process) so Spring Cloud Config Server cannot update the local copy from remote repository.\nTo solve this there is a force-pull property that will make Spring Cloud Config Server force pull from remote repository if the local copy is dirty. Example:\nspring:\n  cloud:\n    config:\n      server:\n        git:\n          uri: https://github.com/spring-cloud-samples/config-repo\n          force-pull: true", 
            "title": "configServer"
        }, 
        {
            "location": "/microservice/#configclient", 
            "text": "\u8bf7\u53c2\u7167http://cloud.spring.io/spring-cloud-config/spring-cloud-config.html#_spring_cloud_config_client   Config First Bootstrap   \u5f85\u7eed\u3002\u3002\u3002\u3002   Discovery First Bootstrap   \u5f85\u7eed\u3002\u3002\u3002\u3002   Config Client Fail Fast  \u3002\u5f85\u7eed\u3002\u3002\u3002\u3002    Config Client Retry     \u5f85\u7eed\u3002\u3002\u3002\u3002    \u5206\u5e03\u5f0f\u5237\u65b0\uff1a\u91c7\u7528cloud-bus\u7684\u5f62\u5f0f;cloud-bus\u53ef\u4ee5\u7528\u6d88\u606f\u961f\u5217\u6765\u5b9e\u73b0\u3002   \u5728\u5ba2\u6237\u7aef\u9700\u8981\u5f00\u542f@Refreshscope\u6ce8\u89e3\u3002    \u5728bootstrap.properties\u6587\u4ef6\u4e2d\u589e\u52a0\u6ce8\u89e3   #config\nspring.cloud.config.enabled=false\nspring.cloud.config.discovery.enabled=${spring.cloud.config.enabled}\nspring.cloud.config.discovery.service-id=ppdai-config-server\nspring.cloud.config.fail-fast=true", 
            "title": "configClient"
        }, 
        {
            "location": "/microservice/#feign", 
            "text": "Feign is a declarative web service client. It makes writing web service clients easier. To use Feign create an interface and annotate it. It has pluggable annotation support including Feign annotations and JAX-RS annotations. Feign also supports pluggable encoders and decoders. Spring Cloud adds support for Spring MVC annotations and for using the same HttpMessageConverters used by default in Spring Web. Spring Cloud integrates Ribbon and Eureka to provide a load balanced http client when using Feign.   feign\u662f\u4e00\u4e2a\u58f0\u660e\u5f0f\u7684\u5ba2\u6237\u7aef\uff0cspringcloud\u7684feign-client\u5305\u542b\u4e86ribbon\u548chystrix\u7684\u652f\u6301  \u5f15\u5165feign        dependency \n       groupId org.springframework.cloud /groupId \n       artifactId spring-cloud-starter-feign /artifactId \n       version 1.2.3.RELEASE /version \n     /dependency    \u9879\u76ee\u542f\u52a8\u589e\u52a0feignclient\u7684\u652f\u6301   @SpringBootApplication\n@EnableDiscoveryClient\n@EnableFeignClients\npublic class App {\n    public static void main( String[] args ) {\n        SpringApplication.run(App.class,args);\n    }\n}   \u589e\u52a0client\u7684\u76ee\u5f55\uff0c\u521b\u5efaconsumer\u7684interface   @FeignClient(value =  xzxxxx )\npublic interface Demoa {\n\n    @GetMapping(value =  /demo )\n    public String demo();\n\n}\n## value:\u6240\u8981\u8c03\u7528\u7684\u670d\u52a1\u7684\u540d\u5b57\u3002    \u9879\u76ee\u542f\u52a8\u7684\u65f6\u5019\u4f1a,context\u4f1a\u5b9e\u4f8b\u5316Demoa(singleton- FeignClientFactoryBean)     feign\u5b58\u5728\u91cd\u8bd5:\u8fde\u63a5\u8d85\u65f6\u9ed8\u8ba4\u662f10s\uff0c\u8bfb\u53d6\u8d85\u65f6\u9ed8\u8ba4\u662f60s\uff0c\u5982\u679c\u8bfb\u53d6\u8d85\u65f6\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f1a\u8fdb\u884c\u91cd\u8bd5\uff0c\u5e76\u8c03\u7528ribbo\u7ec4\u4ef6\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\uff0c\u5e76\u53d1\u9001\u8bf7\u6c42\u3002\u56e0\u6b64\uff0c\u5728\u9879\u76ee\u4e2d\u6ce8\u610f\uff0c\u9700\u8981\u5173\u95ed\u5e95\u5c42\u7684httpclient\u6216\u8005okhttpclient\u7684\u91cd\u8bd5\uff0c\u9632\u6b62\u5728\u901a\u8baf\u5c42\u51fa\u73b0\u91cd\u53d1\u3002\u5728\u670d\u52a1\u7aef\u4e5f\u8981\u505a\u597d\u5e42\u7b49\u3002    \u5728controller\u4e2d\u53ef\u4ee5\u76f4\u63a5\u6ce8\u5165Demoa\u5b9e\u4f8b    @RestController\n@Slf4j\npublic class Demo {\n\n    @Autowired\n    Demoa demoa;\n\n    @GetMapping(value =  /demo )\n    public String demo(){\n        log.info( demo );\n        return  demo ;\n    }\n\n}", 
            "title": "feign"
        }, 
        {
            "location": "/microservice/#ribbon", 
            "text": "Ribbon is a client side load balancer which gives you a lot of control over the behaviour of HTTP and TCP clients. Feign already uses Ribbon, so if you are using @FeignClient then this section also applies.   \u6e90\u7801\u89e3\u6790\u67e5\u770bhttp://www.tuicool.com/articles/7VJzq2U  \u6e90\u7801\u89e3\u6790\u67e5\u770bhttp://www.tuicool.com/articles/vANVFnM", 
            "title": "ribbon"
        }, 
        {
            "location": "/microservice/#hystrix", 
            "text": "", 
            "title": "hystrix"
        }, 
        {
            "location": "/microservice/#zuul", 
            "text": "", 
            "title": "zuul"
        }, 
        {
            "location": "/microservice/#eureka", 
            "text": "", 
            "title": "eureka"
        }, 
        {
            "location": "/microservice/#consul", 
            "text": "consul\u53c2\u8003\u5b98\u7f51http://consul.io  consul\u67b6\u6784\u56fe   (LAN:\u5c40\u57df\u7f51 ;WAN:\u5e7f\u57df\u7f51)\nclient\u4e0eclient\u4e4b\u95f4\u8d70gossip\u534f\u8bae\uff0c\u534f\u8bae\u7aef\u53e3\u662f8301\nclient\u4e0eserver\u4e4b\u95f4\u6570\u636e\u540c\u6b65\u4e5f\u662f\u8d70gossip\u534f\u8bae\uff0c\u7aef\u53e3\u662f8301\nclient\u4e0eserver\u7684rpc\u8d70tcp\u534f\u8bae\uff0c\u8d70\u7684\u662f8300\u7aef\u53e3\nserver\u4e0eserver\u4e4b\u95f4\u7684\u590d\u5236raft\u534f\u8bae\u8d70\u7684\u662ftcp\u534f\u8bae\uff0c\u7aef\u53e3\u662f8300\n\u4e0d\u540c\u7684dc\u4e4b\u95f4\u7684\u6570\u636e\u8bf7\u6c42\u8d70\u7684\u662f8300\u7aef\u53e3\n\u4e0d\u540c\u7684dc\u7684server\u4e4b\u95f4\u8d70\u7684gossip\u534f\u8bae\uff0c\u7aef\u53e3\u5e7f\u57df\u7f51\u76848302\u7aef\u53e3   gossip\u534f\u8bae   1. gossip\u80cc\u666f\nGossip\u7b97\u6cd5\u5982\u5176\u540d\uff0c\u7075\u611f\u6765\u81ea\u529e\u516c\u5ba4\u516b\u5366\uff0c\u53ea\u8981\u4e00\u4e2a\u4eba\u516b\u5366\u4e00\u4e0b\uff0c\u5728\u6709\u9650\u7684\u65f6\u95f4\u5185\u6240\u6709\u7684\u4eba\u90fd\u4f1a\u77e5\u9053\u8be5\u516b\u5366\u7684\u4fe1\u606f\uff0c\u8fd9\u79cd\u65b9\u5f0f\u4e5f\u4e0e\u75c5\u6bd2\u4f20\u64ad\u7c7b\u4f3c\uff0c\u56e0\u6b64Gossip\u6709\u4f17\u591a\u7684\u522b\u540d\u201c\u95f2\u8bdd\u7b97\u6cd5\u201d\u3001\u201c\u75ab\u60c5\u4f20\u64ad\u7b97\u6cd5\u201d\u3001\u201c\u75c5\u6bd2\u611f\u67d3\u7b97\u6cd5\u201d\u3001\u201c\u8c23\u8a00\u4f20\u64ad\u7b97\u6cd5\u201d\u3002  \u4f46Gossip\u5e76\u4e0d\u662f\u4e00\u4e2a\u65b0\u4e1c\u897f\uff0c\u4e4b\u524d\u7684\u6cdb\u6d2a\u67e5\u627e\u3001\u8def\u7531\u7b97\u6cd5\u90fd\u5f52\u5c5e\u4e8e\u8fd9\u4e2a\u8303\u7574\uff0c\u4e0d\u540c\u7684\u662fGossip\u7ed9\u8fd9\u7c7b\u7b97\u6cd5\u63d0\u4f9b\u4e86\u660e\u786e\u7684\u8bed\u4e49\u3001\u5177\u4f53\u5b9e\u65bd\u65b9\u6cd5\u53ca\u6536\u655b\u6027\u8bc1\u660e\u3002\n2. gossip\u7279\u70b9\nGossip\u7b97\u6cd5\u53c8\u88ab\u79f0\u4e3a\u53cd\u71b5\uff08Anti-Entropy\uff09\uff0c\u71b5\u662f\u7269\u7406\u5b66\u4e0a\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u4ee3\u8868\u6742\u4e71\u65e0\u7ae0\uff0c\u800c\u53cd\u71b5\u5c31\u662f\u5728\u6742\u4e71\u65e0\u7ae0\u4e2d\u5bfb\u6c42\u4e00\u81f4\uff0c\u8fd9\u5145\u5206\u8bf4\u660e\u4e86Gossip\u7684\u7279\u70b9\uff1a\u5728\u4e00\u4e2a\u6709\u754c\u7f51\u7edc\u4e2d\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u968f\u673a\u5730\u4e0e\u5176\u4ed6\u8282\u70b9\u901a\u4fe1\uff0c\u7ecf\u8fc7\u4e00\u756a\u6742\u4e71\u65e0\u7ae0\u7684\u901a\u4fe1\uff0c\u6700\u7ec8\u6240\u6709\u8282\u70b9\u7684\u72b6\u6001\u90fd\u4f1a\u8fbe\u6210\u4e00\u81f4\u3002\u6bcf\u4e2a\u8282\u70b9\u53ef\u80fd\u77e5\u9053\u6240\u6709\u5176\u4ed6\u8282\u70b9\uff0c\u4e5f\u53ef\u80fd\u4ec5\u77e5\u9053\u51e0\u4e2a\u90bb\u5c45\u8282\u70b9\uff0c\u53ea\u8981\u8fd9\u4e9b\u8282\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u8fde\u901a\uff0c\u6700\u7ec8\u4ed6\u4eec\u7684\u72b6\u6001\u90fd\u662f\u4e00\u81f4\u7684\uff0c\u5f53\u7136\u8fd9\u4e5f\u662f\u75ab\u60c5\u4f20\u64ad\u7684\u7279\u70b9\u3002  \u8981\u6ce8\u610f\u5230\u7684\u4e00\u70b9\u662f\uff0c\u5373\u4f7f\u6709\u7684\u8282\u70b9\u56e0\u5b95\u673a\u800c\u91cd\u542f\uff0c\u6709\u65b0\u8282\u70b9\u52a0\u5165\uff0c\u4f46\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u540e\uff0c\u8fd9\u4e9b\u8282\u70b9\u7684\u72b6\u6001\u4e5f\u4f1a\u4e0e\u5176\u4ed6\u8282\u70b9\u8fbe\u6210\u4e00\u81f4\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0cGossip\u5929\u7136\u5177\u6709\u5206\u5e03\u5f0f\u5bb9\u9519\u7684\u4f18\u70b9\n3. gossip\u672c\u8d28\nGossip\u662f\u4e00\u4e2a\u5e26\u5197\u4f59\u7684\u5bb9\u9519\u7b97\u6cd5\uff0c\u66f4\u8fdb\u4e00\u6b65\uff0cGossip\u662f\u4e00\u4e2a\u6700\u7ec8\u4e00\u81f4\u6027\u7b97\u6cd5\u3002\u867d\u7136\u65e0\u6cd5\u4fdd\u8bc1\u5728\u67d0\u4e2a\u65f6\u523b\u6240\u6709\u8282\u70b9\u72b6\u6001\u4e00\u81f4\uff0c\u4f46\u53ef\u4ee5\u4fdd\u8bc1\u5728\u201d\u6700\u7ec8\u201c\u6240\u6709\u8282\u70b9\u4e00\u81f4\uff0c\u201d\u6700\u7ec8\u201c\u662f\u4e00\u4e2a\u73b0\u5b9e\u4e2d\u5b58\u5728\uff0c\u4f46\u7406\u8bba\u4e0a\u65e0\u6cd5\u8bc1\u660e\u7684\u65f6\u95f4\u70b9\u3002\n\u56e0\u4e3aGossip\u4e0d\u8981\u6c42\u8282\u70b9\u77e5\u9053\u6240\u6709\u5176\u4ed6\u8282\u70b9\uff0c\u56e0\u6b64\u53c8\u5177\u6709\u53bb\u4e2d\u5fc3\u5316\u7684\u7279\u70b9\uff0c\u8282\u70b9\u4e4b\u95f4\u5b8c\u5168\u5bf9\u7b49\uff0c\u4e0d\u9700\u8981\u4efb\u4f55\u7684\u4e2d\u5fc3\u8282\u70b9\u3002\u5b9e\u9645\u4e0aGossip\u53ef\u4ee5\u7528\u4e8e\u4f17\u591a\u80fd\u63a5\u53d7\u201c\u6700\u7ec8\u4e00\u81f4\u6027\u201d\u7684\u9886\u57df\uff1a\u5931\u8d25\u68c0\u6d4b\u3001\u8def\u7531\u540c\u6b65\u3001Pub/Sub\u3001\u52a8\u6001\u8d1f\u8f7d\u5747\u8861\u3002  \u4f46Gossip\u7684\u7f3a\u70b9\u4e5f\u5f88\u660e\u663e\uff0c\u5197\u4f59\u901a\u4fe1\u4f1a\u5bf9\u7f51\u8def\u5e26\u5bbd\u3001CUP\u8d44\u6e90\u9020\u6210\u5f88\u5927\u7684\u8d1f\u8f7d\uff0c\u800c\u8fd9\u4e9b\u8d1f\u8f7d\u53c8\u53d7\u9650\u4e8e\u901a\u4fe1\u9891\u7387\uff0c\u8be5\u9891\u7387\u53c8\u5f71\u54cd\u7740\u7b97\u6cd5\u6536\u655b\u7684\u901f\u5ea6\uff0c\u540e\u9762\u6211\u4eec\u4f1a\u8bb2\u5728\u5404\u79cd\u573a\u5408\u4e0b\u7684\u4f18\u5316\u65b9\u6cd5\u3002\n4. Gossip\u8282\u70b9\u7684\u901a\u4fe1\u65b9\u5f0f\u53ca\u6536\u655b\u6027 \n\u53c2\u7167\uff1ahttp://wenku.baidu.com/link?url=SSCHAAXypcJvYrDkZL4RRUSMgxeQl9nb1EOaLBsk21PyB1Z9GfXsQ2jkVTDElRJwqUn2QFxV6ut-5Dz1Dki8Rt34BOSAEoXH-YQ-1ZTm46O    consul\u7684\u90e8\u7f72   \u6839\u636e\u4e0d\u540c\u7684\u7684\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\uff0c\u4e0b\u8f7d\u6700\u65b0consul\u5ba2\u6237\u7aef,\u6700\u65b0\u7684\u7248\u672c\u96c6\u6210\u4e86web-ui,\u53ea\u8981\u5728\u90e8\u7f72\u7684\u5f00\u542fui\u5373\u53ef\u3002   \u2018\u5355\u673a\u90e8\u7f72\u2019   \u4e0b\u8f7dconsul\u5b89\u88c5\u6587\u4ef6\u3002  \u51c6\u5907\u542f\u52a8\u811a\u672c   consul agent -server -bootstrap -datacenter=zjtest1 -data-dir=./temp/consul/server -ui=true   \u542f\u52a8\u811a\u672c\u8bf4\u660e  server:  This indicates whether the agent is running in server or client mode  bootstrap:   a server may be in \"bootstrap\" mode   datacenter:  The -datacenter flag can be used to set the datacenter    \u542f\u52a8\u65e5\u5fd7   2017/03/23 15:55:40 [WARN] raft: Heartbeat timeout from \"\" reached, starting Election\n    2017/03/23 15:55:40 [INFO] raft: Node at 192.168.50.150:8300 [Candidate] entering Candidate state in term 2\n    2017/03/23 15:55:40 [INFO] raft: Election won. Tally: 1\n    2017/03/23 15:55:40 [INFO] raft: Node at 192.168.50.150:8300 [Leader] entering Leader state\n    2017/03/23 15:55:40 [INFO] consul: cluster leadership acquired\n    2017/03/23 15:55:40 [INFO] consul: New leader elected: JundeMacBook-Pro.local\n    2017/03/23 15:55:40 [INFO] consul: member 'JundeMacBook-Pro.local' joined, marking health alive\n    2017/03/23 15:55:42 [INFO] agent: Synced service 'consul'   \u90e8\u7f72\u5b8c\u6210\u540e\u53ef\u4ee5\u67e5\u770b   $ consul members\nNode                    Address              Status  Type    Build  Protocol  DC\nJundeMacBook-Pro.local  192.168.50.150:8301  alive   server  0.7.2  2         zjtest2    \u96c6\u7fa4\u90e8\u7f72   server\u5efa\u8bae\u81f3\u5c11\u4e09\u4e2a\u70b9\u90e8\u7f72\u3002  \u6240\u6709\u7684server\u4e0d\u80fd\u4ee5bootstrap\u7684\u65b9\u5f0f\u8fd0\u884c\uff0c\u5426\u5219\u4f1a\u4ea7\u751f\u72b6\u6001\u7684\u4e0d\u4e00\u81f4\uff0c\u5982\u4e0b\u5f15\u7528\u539f\u6587\u8bf4\u660e   Multiple servers cannot be in bootstrap mode as that would put the cluster in an inconsistent state.    \u90e8\u7f72\u6b65\u9aa4   \u4ee5bootstrap\u65b9\u5f0f\u90e8\u7f72\u4e00\u53f0server      \u5176\u4ed6server\u4ee5join\u7684\u65b9\u5f0f\u52a0\u5165  \u4f18\u96c5\u4e0b\u7ebf\u8be5bootstrap\u7684server  \u52a0\u5165\u5230\u5269\u4f59\u4e2d\u7684\u4efb\u610f\u4e00\u53f0     \u90e8\u7f72\u5b8c\u6210\u540e\uff0c\u53ef\u4ee5\u901a\u8fc7consul members\u8fdb\u884c\u67e5\u770b\u96c6\u7fa4\u72b6\u6001", 
            "title": "consul"
        }, 
        {
            "location": "/restfulapi/", 
            "text": "Restful API \u7684\u8bbe\u8ba1\u89c4\u8303\n\n\n1.uri\n\n\n\n\nURI \u8868\u793a\u8d44\u6e90\uff0c\u8d44\u6e90\u4e00\u822c\u5bf9\u5e94\u670d\u52a1\u5668\u7aef\u9886\u57df\u6a21\u578b\u4e2d\u7684\u5b9e\u4f53\u7c7b\u3002\n\n\n\n\n\u89c4\u8303\n\n\n\n\n\u4e0d\u7528\u5927\u5199\uff1b\n\n\n\u7528\u4e2d\u6760-\u4e0d\u7528\u4e0b\u6760_\uff1b\n\n\n\u53c2\u6570\u5217\u8868\u8981encode\uff1b\n\n\nURI\u4e2d\u7684\u540d\u8bcd\u8868\u793a\u8d44\u6e90\u96c6\u5408\uff0c\u4f7f\u7528\u590d\u6570\u5f62\u5f0f\u3002\\\n\n\n\n\n\u8d44\u6e90\u96c6\u5408 vs \u5355\u4e2a\u8d44\u6e90\n\n\nURI\u8868\u793a\u8d44\u6e90\u7684\u4e24\u79cd\u65b9\u5f0f\uff1a\u8d44\u6e90\u96c6\u5408\u3001\u5355\u4e2a\u8d44\u6e90\u3002\n\n\n\n\n\u8d44\u6e90\u96c6\u5408\uff1a\n\n\n\n\n/zoos //\u6240\u6709\u52a8\u7269\u56ed\n/zoos/1/animals //id\u4e3a1\u7684\u52a8\u7269\u56ed\u4e2d\u7684\u6240\u6709\u52a8\u7269\n\n\n\n\n\n\n\u5355\u4e2a\u8d44\u6e90\uff1a\n\n\n\n\n/zoos/1 //id\u4e3a1\u7684\u52a8\u7269\u56ed\n/zoos/1;2;3 //id\u4e3a1\uff0c2\uff0c3\u7684\u52a8\u7269\u56ed\n\n\n\n\n\u907f\u514d\u5c42\u7ea7\u8fc7\u6df1\u7684URI\n\n\n/\u5728url\u4e2d\u8868\u8fbe\u5c42\u7ea7\uff0c\u7528\u4e8e\u6309\u5b9e\u4f53\u5173\u8054\u5173\u7cfb\u8fdb\u884c\u5bf9\u8c61\u5bfc\u822a\uff0c\u4e00\u822c\u6839\u636eid\u5bfc\u822a\u3002\n\n\n\u8fc7\u6df1\u7684\u5bfc\u822a\u5bb9\u6613\u5bfc\u81f4url\u81a8\u80c0\uff0c\u4e0d\u6613\u7ef4\u62a4\uff0c\u5982 GET /zoos/1/areas/3/animals/4\uff0c\u5c3d\u91cf\u4f7f\u7528\u67e5\u8be2\u53c2\u6570\u4ee3\u66ff\u8def\u5f84\u4e2d\u7684\u5b9e\u4f53\u5bfc\u822a\uff0c\u5982GET /animals?zoo=1\narea=3\uff1b\n\n\n\u5bf9Composite\u8d44\u6e90\u7684\u8bbf\u95ee\n\n\n\u670d\u52a1\u5668\u7aef\u7684\u7ec4\u5408\u5b9e\u4f53\u5fc5\u987b\u5728uri\u4e2d\u901a\u8fc7\u7236\u5b9e\u4f53\u7684id\u5bfc\u822a\u8bbf\u95ee\u3002\n\n\n\n\n\n\n\n\n\u7ec4\u5408\u5b9e\u4f53\u4e0d\u662ffirst-class\u7684\u5b9e\u4f53\uff0c\u5b83\u7684\u751f\u547d\u5468\u671f\u5b8c\u5168\u4f9d\u8d56\u7236\u5b9e\u4f53\uff0c\u65e0\u6cd5\u72ec\u7acb\u5b58\u5728\uff0c\u5728\u5b9e\u73b0\u4e0a\u901a\u5e38\u662f\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u67d0\u4e9b\u5217\u7684\u62bd\u8c61\uff0c\u4e0d\u76f4\u63a5\u5bf9\u5e94\u8868\uff0c\u4e5f\u65e0id\u3002\u4e00\u4e2a\u5e38\u89c1\u7684\u4f8b\u5b50\u662f User \u2014 Address\uff0cAddress\u662f\u5bf9User\u8868\u4e2dzipCode/country/city\u4e09\u4e2a\u5b57\u6bb5\u7684\u7b80\u5355\u62bd\u8c61\uff0c\u65e0\u6cd5\u72ec\u7acb\u4e8eUser\u5b58\u5728\u3002\u5fc5\u987b\u901a\u8fc7User\u7d22\u5f15\u5230Address\uff1aGET /user/1/addresses\n\n\n\n\n\n\n\n\n2. Request\n\n\nHTTP\u65b9\u6cd5\n\n\n\n\n\u901a\u8fc7\u6807\u51c6HTTP\u65b9\u6cd5\u5bf9\u8d44\u6e90CRUD\n\n\nGET\uff1a\u67e5\u8be2\n\n\n\n\n GET /zoos\n GET /zoos/1\n GET /zoos/1/employees\n\n\n\n\n\n\nPOST\uff1a\u521b\u5efa\u5355\u4e2a\u8d44\u6e90\u3002POST\u4e00\u822c\u5411\u201c\u8d44\u6e90\u96c6\u5408\u201d\u578buri\u53d1\u8d77\n\n\n\n\nPOST /animals  //\u65b0\u589e\u52a8\u7269\nPOST /zoos/1/employees //\u4e3aid\u4e3a1\u7684\u52a8\u7269\u56ed\u96c7\u4f63\u5458\u5de5\n\n\n\n\n\n\nPUT\uff1a\u66f4\u65b0\u5355\u4e2a\u8d44\u6e90\uff08\u5168\u91cf\uff09\uff0c\u5ba2\u6237\u7aef\u63d0\u4f9b\u5b8c\u6574\u7684\u66f4\u65b0\u540e\u7684\u8d44\u6e90\u3002\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662f PATCH\uff0cPATCH \u8d1f\u8d23\u90e8\u5206\u66f4\u65b0\uff0c\u5ba2\u6237\u7aef\u63d0\u4f9b\u8981\u66f4\u65b0\u7684\u90a3\u4e9b\u5b57\u6bb5\u3002PUT/PATCH\u4e00\u822c\u5411\u201c\u5355\u4e2a\u8d44\u6e90\u201d\u578buri\u53d1\u8d77\n\n\n\n\nPUT /animals/1\nPUT /zoos/1\n\n\n\n\n\n\nDELETE\uff1a\u5220\u9664\n\n\n\n\nDELETE /zoos/1/employees/2\nDELETE /zoos/1/employees/2;4;5\nDELETE /zoos/1/animals  //\u5220\u9664id\u4e3a1\u7684\u52a8\u7269\u56ed\u5185\u7684\u6240\u6709\u52a8\u7269\n\n\n\n\n\u5b89\u5168\u6027\u548c\u5e42\u7b49\u6027\n\n\n\n\n\u5b89\u5168\u6027\uff1a\u4e0d\u4f1a\u6539\u53d8\u8d44\u6e90\u72b6\u6001\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u53ea\u8bfb\u7684\uff1b\n\n\n\u5e42\u7b49\u6027\uff1a\u6267\u884c1\u6b21\u548c\u6267\u884cN\u6b21\uff0c\u5bf9\u8d44\u6e90\u72b6\u6001\u6539\u53d8\u7684\u6548\u679c\u662f\u7b49\u4ef7\u7684\u3002\n\n\n\n\n\n\n\n\n\n\n\n\n\u5b89\u5168\u6027\n\n\n\u5e42\u7b49\u6027\n\n\n\n\n\n\n\n\n\n\nGET\n\n\n\u221a\n\n\n\u221a\n\n\n\n\n\n\nPOST\n\n\n\u00d7\n\n\n\u00d7\n\n\n\n\n\n\nPUT\n\n\n\u00d7\n\n\n\u221a\n\n\n\n\n\n\nDELETE\n\n\n\u00d7\n\n\n\u221a\n\n\n\n\n\n\n\n\n\n\n\u5b89\u5168\u6027\u548c\u5e42\u7b49\u6027\u5747\u4e0d\u4fdd\u8bc1\u53cd\u590d\u8bf7\u6c42\u80fd\u62ff\u5230\u76f8\u540c\u7684response\u3002\u4ee5 DELETE \u4e3a\u4f8b\uff0c\u7b2c\u4e00\u6b21DELETE\u8fd4\u56de200\u8868\u793a\u5220\u9664\u6210\u529f\uff0c\u7b2c\u4e8c\u6b21\u8fd4\u56de404\u63d0\u793a\u8d44\u6e90\u4e0d\u5b58\u5728\uff0c\u8fd9\u662f\u5141\u8bb8\u7684\u3002\n\n\n\n\n\u590d\u6742\u67e5\u8be2\n\n\n\n\n\u67e5\u8be2\u53ef\u4ee5\u634e\u5e26\u4ee5\u4e0b\u53c2\u6570\uff1a\n\n\n\n\n\n\n\n\n\n\n.\n\n\n\u793a\u4f8b\n\n\n\u5907\u6ce8\n\n\n\n\n\n\n\n\n\n\n\u8fc7\u6ee4\u6761\u4ef6\n\n\n?type=1\nage=16\n\n\n\u5141\u8bb8\u4e00\u5b9a\u7684uri\u5197\u4f59\uff0c\u5982/zoos/1\u4e0e/zoos?id=1\n\n\n\n\n\n\n\u6392\u5e8f\n\n\n?sort=age,desc\n\n\n\n\n\n\n\n\n\u5206\u9875\n\n\n?limit=10\noffset=3\n\n\n\n\n\n\n\n\n\n\n\u5f85\u7eed\u3002\u3002\u3002\u3002\u3002\u3002\u3002", 
            "title": "restfulApi\u89c4\u8303"
        }, 
        {
            "location": "/restfulapi/#restful-api", 
            "text": "", 
            "title": "Restful API \u7684\u8bbe\u8ba1\u89c4\u8303"
        }, 
        {
            "location": "/restfulapi/#1uri", 
            "text": "URI \u8868\u793a\u8d44\u6e90\uff0c\u8d44\u6e90\u4e00\u822c\u5bf9\u5e94\u670d\u52a1\u5668\u7aef\u9886\u57df\u6a21\u578b\u4e2d\u7684\u5b9e\u4f53\u7c7b\u3002", 
            "title": "1.uri"
        }, 
        {
            "location": "/restfulapi/#_1", 
            "text": "\u4e0d\u7528\u5927\u5199\uff1b  \u7528\u4e2d\u6760-\u4e0d\u7528\u4e0b\u6760_\uff1b  \u53c2\u6570\u5217\u8868\u8981encode\uff1b  URI\u4e2d\u7684\u540d\u8bcd\u8868\u793a\u8d44\u6e90\u96c6\u5408\uff0c\u4f7f\u7528\u590d\u6570\u5f62\u5f0f\u3002\\", 
            "title": "\u89c4\u8303"
        }, 
        {
            "location": "/restfulapi/#vs", 
            "text": "URI\u8868\u793a\u8d44\u6e90\u7684\u4e24\u79cd\u65b9\u5f0f\uff1a\u8d44\u6e90\u96c6\u5408\u3001\u5355\u4e2a\u8d44\u6e90\u3002   \u8d44\u6e90\u96c6\u5408\uff1a   /zoos //\u6240\u6709\u52a8\u7269\u56ed\n/zoos/1/animals //id\u4e3a1\u7684\u52a8\u7269\u56ed\u4e2d\u7684\u6240\u6709\u52a8\u7269   \u5355\u4e2a\u8d44\u6e90\uff1a   /zoos/1 //id\u4e3a1\u7684\u52a8\u7269\u56ed\n/zoos/1;2;3 //id\u4e3a1\uff0c2\uff0c3\u7684\u52a8\u7269\u56ed", 
            "title": "\u8d44\u6e90\u96c6\u5408 vs \u5355\u4e2a\u8d44\u6e90"
        }, 
        {
            "location": "/restfulapi/#uri", 
            "text": "/\u5728url\u4e2d\u8868\u8fbe\u5c42\u7ea7\uff0c\u7528\u4e8e\u6309\u5b9e\u4f53\u5173\u8054\u5173\u7cfb\u8fdb\u884c\u5bf9\u8c61\u5bfc\u822a\uff0c\u4e00\u822c\u6839\u636eid\u5bfc\u822a\u3002  \u8fc7\u6df1\u7684\u5bfc\u822a\u5bb9\u6613\u5bfc\u81f4url\u81a8\u80c0\uff0c\u4e0d\u6613\u7ef4\u62a4\uff0c\u5982 GET /zoos/1/areas/3/animals/4\uff0c\u5c3d\u91cf\u4f7f\u7528\u67e5\u8be2\u53c2\u6570\u4ee3\u66ff\u8def\u5f84\u4e2d\u7684\u5b9e\u4f53\u5bfc\u822a\uff0c\u5982GET /animals?zoo=1 area=3\uff1b", 
            "title": "\u907f\u514d\u5c42\u7ea7\u8fc7\u6df1\u7684URI"
        }, 
        {
            "location": "/restfulapi/#composite", 
            "text": "\u670d\u52a1\u5668\u7aef\u7684\u7ec4\u5408\u5b9e\u4f53\u5fc5\u987b\u5728uri\u4e2d\u901a\u8fc7\u7236\u5b9e\u4f53\u7684id\u5bfc\u822a\u8bbf\u95ee\u3002     \u7ec4\u5408\u5b9e\u4f53\u4e0d\u662ffirst-class\u7684\u5b9e\u4f53\uff0c\u5b83\u7684\u751f\u547d\u5468\u671f\u5b8c\u5168\u4f9d\u8d56\u7236\u5b9e\u4f53\uff0c\u65e0\u6cd5\u72ec\u7acb\u5b58\u5728\uff0c\u5728\u5b9e\u73b0\u4e0a\u901a\u5e38\u662f\u5bf9\u6570\u636e\u5e93\u8868\u4e2d\u67d0\u4e9b\u5217\u7684\u62bd\u8c61\uff0c\u4e0d\u76f4\u63a5\u5bf9\u5e94\u8868\uff0c\u4e5f\u65e0id\u3002\u4e00\u4e2a\u5e38\u89c1\u7684\u4f8b\u5b50\u662f User \u2014 Address\uff0cAddress\u662f\u5bf9User\u8868\u4e2dzipCode/country/city\u4e09\u4e2a\u5b57\u6bb5\u7684\u7b80\u5355\u62bd\u8c61\uff0c\u65e0\u6cd5\u72ec\u7acb\u4e8eUser\u5b58\u5728\u3002\u5fc5\u987b\u901a\u8fc7User\u7d22\u5f15\u5230Address\uff1aGET /user/1/addresses", 
            "title": "\u5bf9Composite\u8d44\u6e90\u7684\u8bbf\u95ee"
        }, 
        {
            "location": "/restfulapi/#2-request", 
            "text": "", 
            "title": "2. Request"
        }, 
        {
            "location": "/restfulapi/#http", 
            "text": "\u901a\u8fc7\u6807\u51c6HTTP\u65b9\u6cd5\u5bf9\u8d44\u6e90CRUD  GET\uff1a\u67e5\u8be2    GET /zoos\n GET /zoos/1\n GET /zoos/1/employees   POST\uff1a\u521b\u5efa\u5355\u4e2a\u8d44\u6e90\u3002POST\u4e00\u822c\u5411\u201c\u8d44\u6e90\u96c6\u5408\u201d\u578buri\u53d1\u8d77   POST /animals  //\u65b0\u589e\u52a8\u7269\nPOST /zoos/1/employees //\u4e3aid\u4e3a1\u7684\u52a8\u7269\u56ed\u96c7\u4f63\u5458\u5de5   PUT\uff1a\u66f4\u65b0\u5355\u4e2a\u8d44\u6e90\uff08\u5168\u91cf\uff09\uff0c\u5ba2\u6237\u7aef\u63d0\u4f9b\u5b8c\u6574\u7684\u66f4\u65b0\u540e\u7684\u8d44\u6e90\u3002\u4e0e\u4e4b\u5bf9\u5e94\u7684\u662f PATCH\uff0cPATCH \u8d1f\u8d23\u90e8\u5206\u66f4\u65b0\uff0c\u5ba2\u6237\u7aef\u63d0\u4f9b\u8981\u66f4\u65b0\u7684\u90a3\u4e9b\u5b57\u6bb5\u3002PUT/PATCH\u4e00\u822c\u5411\u201c\u5355\u4e2a\u8d44\u6e90\u201d\u578buri\u53d1\u8d77   PUT /animals/1\nPUT /zoos/1   DELETE\uff1a\u5220\u9664   DELETE /zoos/1/employees/2\nDELETE /zoos/1/employees/2;4;5\nDELETE /zoos/1/animals  //\u5220\u9664id\u4e3a1\u7684\u52a8\u7269\u56ed\u5185\u7684\u6240\u6709\u52a8\u7269", 
            "title": "HTTP\u65b9\u6cd5"
        }, 
        {
            "location": "/restfulapi/#_2", 
            "text": "\u5b89\u5168\u6027\uff1a\u4e0d\u4f1a\u6539\u53d8\u8d44\u6e90\u72b6\u6001\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\u53ea\u8bfb\u7684\uff1b  \u5e42\u7b49\u6027\uff1a\u6267\u884c1\u6b21\u548c\u6267\u884cN\u6b21\uff0c\u5bf9\u8d44\u6e90\u72b6\u6001\u6539\u53d8\u7684\u6548\u679c\u662f\u7b49\u4ef7\u7684\u3002       \u5b89\u5168\u6027  \u5e42\u7b49\u6027      GET  \u221a  \u221a    POST  \u00d7  \u00d7    PUT  \u00d7  \u221a    DELETE  \u00d7  \u221a      \u5b89\u5168\u6027\u548c\u5e42\u7b49\u6027\u5747\u4e0d\u4fdd\u8bc1\u53cd\u590d\u8bf7\u6c42\u80fd\u62ff\u5230\u76f8\u540c\u7684response\u3002\u4ee5 DELETE \u4e3a\u4f8b\uff0c\u7b2c\u4e00\u6b21DELETE\u8fd4\u56de200\u8868\u793a\u5220\u9664\u6210\u529f\uff0c\u7b2c\u4e8c\u6b21\u8fd4\u56de404\u63d0\u793a\u8d44\u6e90\u4e0d\u5b58\u5728\uff0c\u8fd9\u662f\u5141\u8bb8\u7684\u3002", 
            "title": "\u5b89\u5168\u6027\u548c\u5e42\u7b49\u6027"
        }, 
        {
            "location": "/restfulapi/#_3", 
            "text": "\u67e5\u8be2\u53ef\u4ee5\u634e\u5e26\u4ee5\u4e0b\u53c2\u6570\uff1a      .  \u793a\u4f8b  \u5907\u6ce8      \u8fc7\u6ee4\u6761\u4ef6  ?type=1 age=16  \u5141\u8bb8\u4e00\u5b9a\u7684uri\u5197\u4f59\uff0c\u5982/zoos/1\u4e0e/zoos?id=1    \u6392\u5e8f  ?sort=age,desc     \u5206\u9875  ?limit=10 offset=3", 
            "title": "\u590d\u6742\u67e5\u8be2"
        }, 
        {
            "location": "/restfulapi/#_4", 
            "text": "", 
            "title": "\u5f85\u7eed\u3002\u3002\u3002\u3002\u3002\u3002\u3002"
        }
    ]
}